<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>

<div
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:composite="http://java.sun.com/jsf/composite"
    xmlns:ds="http://deltaspike.apache.org/jsf"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:ui="http://java.sun.com/jsf/facelets">
        
    
    
    <composite:interface>
        <composite:attribute name="className" required="true" type="java.lang.String" />
        <composite:attribute name="managedBean" required="true" type="net.sptic.comptainscription.model.bean.MasterBean" />
        <composite:attribute name="deleteActionListener" required="true" method-signature="void action(java.lang.String, java.lang.String)" />
        <composite:attribute name="newActionListener" required="true" method-signature="void action(java.lang.String, java.lang.String, java.lang.String)" />
        <composite:attribute name="profileAction" required="true" method-signature="java.lang.String action(java.lang.String)" />
        <composite:attribute name="tableId" required="true" type="java.lang.String" />
        <composite:attribute name="updateIds" required="true" type="java.lang.String" default=":msg"/>
    </composite:interface>
    
    <composite:implementation>
        <h:panelGrid columns="7" styleClass="borderLess center">
            
            <p:messages id="#{cc.id.concat('-msg')}" globalOnly="false" showDetail="true" showSummary="true"  closable="true" redisplay="false"/> 
            <!--<p:row >-->
                
                <p:column>
                    <p:commandLink
                        rendered="true"
                        title="Exporter la liste vers MS Excel"
                        update="#{cc.id.concat('-msg')}">
                        <h:graphicImage library="images" name="icons/excel.png" alt="excel" /> 
                        <pe:exporter type="xlsx" target="#{cc.attrs.tableId}" fileName="formatExcel" postProcessor="#{cc.attrs.managedBean.postProcessXLSX}" />
                  </p:commandLink>
                </p:column>
                
                <p:column>
                    <p:commandLink
                        rendered="true"
                        title="Exporter la page affichée vers MS Excel"
                        update="#{cc.id.concat('-msg')}">
                        <h:graphicImage library="images" name="icons/excel.png" alt="excel" /> 
                        <pe:exporter type="xlsx" target="#{cc.attrs.tableId}" fileName="formatExcel" postProcessor="#{cc.attrs.managedBean.postProcessXLSX}" pageOnly="true"/>
                  </p:commandLink>
                </p:column>
                
                <p:column>
                    <p:commandLink
                        rendered="true"
                        title="Afficher les détails"
                        type="button"
                        action="#{cc.attrs.profileAction}"
                        update="#{cc.id.concat('-msg')}">
                        <h:graphicImage library="images" name="icons/profile.png" alt="Détail" /> 
                  </p:commandLink>
                </p:column>
                
                <p:column>
                    <p:commandLink
                        rendered="true"
                        title="#{bundle.print}"
                        type="button"
                        update="#{cc.id.concat('-msg')}">
                        <h:graphicImage library="images" name="icons/excel.png" alt="excel" /> 
                        <p:printer target="#{cc.attrs.tableId}"/>
                  </p:commandLink>
                </p:column>
                <p:column>
                    <p:commandLink
                        rendered="true"
                        title="#{bundle.excel}"
                        type="button"
                        update="#{cc.id.concat('-msg')}">
                        <h:graphicImage library="images" name="icons/excel.png" alt="excel" /> 
                  </p:commandLink>
                </p:column>
                
                <p:column>
                    <p:commandLink
                        rendered="true"
                        title="#{bundle.print}"
                        type="button"
                        update="#{cc.id.concat('-msg')}">
                        <h:graphicImage library="images" name="icons/printer.png" alt="excel" /> 
                        <p:printer target="#{cc.attrs.tableId}"/>
                  </p:commandLink>
                </p:column>
                
                <p:column>
                    <p:commandLink
                        rendered="true"
                        title="#{bundle.refresh}"
                        type="button"
                        update="#{cc.id.concat('-msg')}">
                        <h:graphicImage library="images" name="icons/refresh.png" alt="refresh" /> 
                  </p:commandLink>
                </p:column>
            <!--</p:row>-->
                
        </h:panelGrid>
    </composite:implementation>
</div>
    